<div id="homeContainer" style="height: 500px;">
    <div *ngIf='ProfileData' class="height-100">
        <div style="height: 85%;">
            <div class="display-inline width-50 height-100 txt-horizontal-left" style="padding: 10px; box-sizing: border-box; overflow: hidden;">
                <ng-container *ngIf='isSessionUser'>
                    <div>
                        <span>Nombre: </span>
                        <ng-container *ngIf='!modifyValuesData.modifyUserName.status'>
                            <span>{{ProfileData.name}} 
                                <span id="pencil-writting-animation" class="display-inline">
                                    <span class="my-vinyl-icons-font pencil-writting writting cursor-pointer display-inline font-size-125" (click)='modifyValuesData.modifyUserName.status = !modifyValuesData.modifyUserName.status; setFocus(modifyValuesData.modifyUserName.id)'>+</span>
                                </span>
                            </span>
                        </ng-container>
                        <ng-container *ngIf='modifyValuesData.modifyUserName.status'>
                            <input id="userName" type="text" [(ngModel)]='modifyValuesData.modifyUserName.value'
                                (focusout)=modifyData({event:$event,attribute:modifyValuesData.modifyUserName.id})
                                (keyup)=modifyData({event:$event,attribute:modifyValuesData.modifyUserName.id})>
                        </ng-container>
                    </div>
                    <br>
                    <div>
                        <span>Email: </span>
                        <ng-container *ngIf='!modifyValuesData.modifyEmail.status'>
                            <span>{{ProfileData.email}}
                                <span id="pencil-writting-animation" class="display-inline">
                                    <span class="my-vinyl-icons-font pencil-writting writting cursor-pointer display-inline font-size-125" (click)='modifyValuesData.modifyEmail.status = !modifyValuesData.modifyEmail.status; setFocus(modifyValuesData.modifyEmail.id);'>+</span>
                                </span>
                            </span>
                        </ng-container>
                        <ng-container *ngIf='modifyValuesData.modifyEmail.status'>
                            <input id="userEmail" type="text" [(ngModel)]='modifyValuesData.modifyEmail.value'
                                (focusout)=modifyData({event:$event,attribute:modifyValuesData.modifyEmail.id})
                                (keyup)=modifyData({event:$event,attribute:modifyValuesData.modifyEmail.id})>
                        </ng-container>
                    </div>
                    <br>
                    <div>
                        <span>Contraseña: </span>
                        <ng-container *ngIf='!modifyValuesData.modifyPassword.status'>
                            <span style="letter-spacing: 2px;">⚫⚫⚫⚫⚫⚫⚫⚫
                                <span id="pencil-writting-animation" class="display-inline">
                                    <span class="my-vinyl-icons-font pencil-writting writting cursor-pointer display-inline font-size-125" (click)='modifyValuesData.modifyPassword.status = !modifyValuesData.modifyPassword.status; setFocus(modifyValuesData.modifyPassword.id); modifyPasswordData.passwordMessage="Introduce tu contraseña actual:"'>+</span>
                                </span>
                            </span>
                        </ng-container>
                        <ng-container *ngIf='modifyValuesData.modifyPassword.status'>
                            <br>
                            <div style="margin: 10px;">
                                <p *ngIf='modifyPasswordData.passwordMessage != ""'>{{modifyPasswordData.passwordMessage}}</p>
                                <input id="userPassword" type="password" [(ngModel)]='modifyValuesData.modifyPassword.value'
                                (focusout)=modifyPassword($event,-1) (keyup)=modifyPassword($event)>
                            </div>
                        </ng-container>
                    </div>
                    <br>
                    <div style="height: 100%;">
                        <span>Descripción: </span>
                        <span id="pencil-writting-animation" class="display-inline">
                            <span class="my-vinyl-icons-font pencil-writting writting cursor-pointer display-inline font-size-125" (click)='modifyValuesData.modifyDescription.status = !modifyValuesData.modifyDescription.status; setFocus(modifyValuesData.modifyDescription.id);'>+</span>
                        </span>
                        <br><br>
                        <ng-container *ngIf='!modifyValuesData.modifyDescription.status'>
                            <div style="max-height: 63%; overflow: auto;">
                                <span>{{ProfileData.description}}</span>
                            </div>
                        </ng-container>
                        <ng-container *ngIf='modifyValuesData.modifyDescription.status'>
                            <textarea name="" id="userDescription" [(ngModel)]='modifyValuesData.modifyDescription.value'
                            (focusout)=modifyData({event:$event,attribute:modifyValuesData.modifyDescription.id})
                            (keyup)=modifyData({event:$event,attribute:modifyValuesData.modifyDescription.id})
                            style="width: 100%; height: 200px;">
                            </textarea>
                        </ng-container>
                    </div>
                    <br>
                </ng-container>
                <ng-container *ngIf='!isSessionUser'>
                    <div style="height: 100%;">
                        <div>
                            <span>Nombre: </span>
                            <span>{{ProfileData.name}}</span>
                        </div>
                        <br>
                        <div>
                            <span>Rango: </span>
                            <span>{{range[ProfileData.admin]}}</span>
                        </div>
                        <br>
                        <div style="height: 100%;">
                            <span>Descripción: </span>
                            <br><br>
                            <div style="max-height: 72%; overflow: auto;">
                                <span>{{ProfileData.description}}</span>
                            </div>
                        </div>
                    </div>
                    <p></p>
                </ng-container>
            </div>
            <div class="display-inline vertical-top width-50 height-100" style="padding: 10px; box-sizing: border-box; overflow: hidden;">
                <div>
                    <select [(ngModel)]='selectedThemeList' (change)=changeList()>
                        <option selected="selected">{{defaultSelect}}</option>
                        <ng-container *ngFor='let list of ProfileData.themeLists'>
                            <option
                                *ngIf='(isSessionUser && list.userView) || (!isSessionUser && !list.privateState && list.userView)'>
                                {{list.name}}</option>
                        </ng-container>
                        <option *ngIf='isSessionUser' selected="selected">-- Nueva lista --</option>
                    </select>
                </div>
                <br>
                <div style="height: 100%; background-color: rgba(50, 50, 55, 0.3); padding: 10px;" class="box-sizing-border-box">
                    <ng-container *ngIf='themeList'>
                        <div>
                            <p *ngIf='isSessionUser' style="margin-top: 0px;">
                                <span>Privada:</span><input type="checkbox" name="" id="" [(ngModel)]="privateValue" (click)=privatizeThemeList()>
                                <span>&nbsp;&nbsp;</span>
                                <span id="pencil-writting-animation" class="display-inline">
                                    <span *ngIf='isSessionUser && themeList.userManage' (click)='modifyValuesData.themeListName.status = !modifyValuesData.themeListName.status; setFocus(modifyValuesData.themeListName.id)' class="my-vinyl-icons-font pencil-writting-bottom writting cursor-pointer display-inline font-size-150">+</span>
                                </span>
                                <span>&nbsp;&nbsp;</span>
                                <span *ngIf='isSessionUser && themeList.userManage' (click)='removeThemeList()' id="trash-can-animation" class="display-inline my-vinyl-icons-font font-size-150">
                                    <span class="trash-cap cursor-pointer display-inline">0</span>
                                    <span class="trash-body cursor-pointer display-inline">/</span>
                                </span>
                            </p>
                        </div>
                        <p *ngIf='!modifyValuesData.themeListName.status'>{{modifyValuesData.themeListName.value}}:</p>
                        <ng-container *ngIf='modifyValuesData.themeListName.status'>
                            <input id="themeName" type="text" [(ngModel)]='modifyValuesData.themeListName.value'
                                (blur)=modifyData({event:$event,attribute:modifyValuesData.themeListName.id})
                                (keyup)=modifyData({event:$event,attribute:modifyValuesData.themeListName.id})>
                                <span>:</span>
                        </ng-container>
                    </ng-container>
                    <ng-container *ngIf='themeList'>
                        <div style="height: 73%; border: 2px solid rgba(50, 50, 55, 0.5); background-color: rgba(50, 50, 55, 0.5);" class="overflow-auto">
                            <ng-container *ngIf='themeList.list.length > 0'>
                                <div *ngFor='let singleTheme of themeList.list' (click)='setAudioBarListPosition(singleTheme.id)' (mousedown)='eventDrag($event)'
                                    id="theme-container-{{selectedThemeList}}-{{singleTheme.id}}" class="theme-container text-left"
                                    style="white-space:nowrap">
                                    <ng-container *ngIf='singleTheme.name'>
                                        <div class="display-inline" style="vertical-align: middle; margin: 10px; margin-right: 15px; width: 15%; min-width: 50px;" (click)='setAudioBarListPosition(singleTheme.id)'>
                                            <img style="position: absolute;" id="vinyl-{{singleTheme.id}}" class="cover-xs vinyl-xs" src="{{mediaPath}}/images/m-vinyl.png">
                                            <img style="position: relative; z-index: 2;" class="cover-xs" src="{{mediaPath}}/images/covers/{{singleTheme.id}}.png">
                                        </div>
                                        <ng-container *ngIf='isSessionUser && themeList.userManage'>
                                            <div class="display-inline theme-container-title" style="width: 58%;">
                                                <p class="display-inline" style="vertical-align: bottom;">
                                                    <span [routerLink]='["/Theme"]' [queryParams]='{id:singleTheme.id}' class="cursor-pointer">{{singleTheme.name}}</span> - <span [routerLink]='["/Artist"]' [queryParams]='{id:singleTheme.artist.id}' class="cursor-pointer">{{singleTheme.artist.name}} {{singleTheme.artist.surname}}</span>
                                                </p>
                                            </div>
                                            <div class="display-inline" style="width: 10%; float: right; margin-right: 3px;">
                                                <p *ngIf='isSessionUser && themeList.userManage' style="margin-top: 0px; margin-bottom: 0px; transform: translateY(100%);" (click)='removeThemeFromList(singleTheme.id)' id="trash-can-animation" class="display-inline my-vinyl-icons-font font-size-150 text-right">
                                                    <span class="trash-cap cursor-pointer display-inline">0</span>
                                                    <span class="trash-body cursor-pointer display-inline">/</span>
                                                </p>
                                            </div>
                                        </ng-container>
                                        <ng-container *ngIf='!isSessionUser || !themeList.userManage'>
                                            <div class="display-inline theme-container-title" style="width: 75%;">
                                                <p class="display-inline">
                                                    <span [routerLink]='["/Theme"]' [queryParams]='{id:singleTheme.id}' class="cursor-pointer">{{singleTheme.name}}</span> - <span [routerLink]='["/Artist"]' [queryParams]='{id:singleTheme.artist.id}' class="cursor-pointer">{{singleTheme.artist.name}} {{singleTheme.artist.surname}}</span>
                                                </p>
                                            </div>
                                        </ng-container>
                                    </ng-container>
                                </div>
                            </ng-container>
                            <ng-container *ngIf='themeList.list.length <= 0'>
                                <p>La lista está vacía</p>
                            </ng-container>
                        </div>
                    </ng-container>
                </div>
            </div>
        </div>
        <br><br>
        <div style="display: inline-block; width: 90%;">
            <app-audio-bar></app-audio-bar>
        </div>
    </div>
    <app-theme-list-form *ngIf='formTask != ""' (outputToparent)='dataObservable($event)' [task]='formTask'></app-theme-list-form>
</div>